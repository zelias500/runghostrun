<ion-view view-title="Nearby Challenges">
  <ion-content>
    <div class='button-bar'>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="nearest"}' ng-click='sortGhosts("nearest")'>Nearest</button>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="recency"}' ng-click='sortGhosts("recency")'>Recency</button>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="popular"}' ng-click='sortGhosts("popular")'>Popular</button>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="runLength"}' ng-click='sortGhosts("runLength")'>Distance</button>
    </div>
    <ion-list>
      <ion-item ng-repeat="ghost in ghosts">
      	<p>{{ghost.title || "Untitled Ghost"}}</p>
      	<p>Owned by {{ghost.owner.displayName || ghost.owner.email}}</p>
        <ghost-map ghost='ghost' anchors="true" boxes="false"></ghost-map>
        <ghost-stats data="ghost"></ghost-map>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
