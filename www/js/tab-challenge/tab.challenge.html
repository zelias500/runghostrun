<ion-view view-title="Nearby Challenges">
  <ion-content>
    <div class='button-bar'>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="nearest"}' ng-click='sortGhosts("nearest")'>Nearest</button>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="recent"}' ng-click='sortGhosts("recent")'>Recent</button>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="popular"}' ng-click='sortGhosts("popular")'>Popular</button>
    	<button class='button button-small button-outline ' ng-class='{active: predicate=="runLength"}' ng-click='sortGhosts("runLength")'>Distance</button>
    </div>

    <br />

    <div ng-repeat="ghost in ghosts">
      <div class="item item-avatar">
        <img ng-src="{{ghost.owner.picture}}">
        <h2>{{ghost.owner.displayName || ghost.owner.email}}</h2>
        <p>{{ghost.title || "Untitled Ghost"}}</p>
      </div>

      <div class="item item-body">
        <run-map ghost='ghost' clickable='true'></run-map>
        <run-stats data='ghost' list-format="true"></run-stats>
      </div>
    </div>

  </ion-content>
</ion-view>

